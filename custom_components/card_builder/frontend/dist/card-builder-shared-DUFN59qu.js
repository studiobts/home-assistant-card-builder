import{_ as e,d as t,a as n,r,b as i}from"./card-builder-shared-BlFcJoge.js";var a="data-pdnd-honey-pot";function o(e){return e instanceof Element&&e.hasAttribute(a)}function l(t){var n=document.elementsFromPoint(t.x,t.y),r=e(n,2),i=r[0],a=r[1];return i?o(i)?null!=a?a:null:i:null}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e){var t=function(e){return{x:Math.min(e.x,window.innerWidth-2),y:Math.min(e.y,window.innerHeight-2)}}(function(e){return{x:Math.max(e.x,0),y:Math.max(e.y,0)}}(function(e){return{x:e.x-1,y:e.y-1}}(function(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}(e.client))));return DOMRect.fromRect({x:t.x,y:t.y,width:2,height:2})}function f(e){var t=e.clientRect;return{left:"".concat(t.left,"px"),top:"".concat(t.top,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px")}}function d(e){var t=null;return function(){if(!t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=e.apply(this,r);t={result:a}}return t.result}}var p=d(function(){return navigator.userAgent.includes("Firefox")}),v=d(function(){var e=navigator.userAgent;return e.includes("AppleWebKit")&&!e.includes("Chrome")}),g={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function m(e){var t,n=e.dragLeave,r=n.type,i=n.relatedTarget;return"dragleave"===r&&(v()?function(e){var t=e.dragLeave;return!!v()&&t.hasOwnProperty(g.isLeavingWindow)}({dragLeave:n}):null==i||(p()?"nodeName"in(t=i)&&t.ownerDocument!==document:i instanceof HTMLIFrameElement))}function y(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}!function(){if("undefined"!=typeof window&&v()){var e={enterCount:0,isOverWindow:!1};t.bindAll(window,[{type:"dragstart",listener:function(){e.enterCount=0,e.isOverWindow=!0}},{type:"drop",listener:n},{type:"dragend",listener:n},{type:"dragenter",listener:function(t){e.isOverWindow||0!==e.enterCount||(t[g.isEnteringWindow]=!0),e.isOverWindow=!0,e.enterCount++}},{type:"dragleave",listener:function(t){e.enterCount--,e.isOverWindow&&0===e.enterCount&&(t[g.isLeavingWindow]=!0,e.isOverWindow=!1)}}],{capture:!0})}function n(){e={enterCount:0,isOverWindow:!1}}}();var b=r(function(e){return e()}),h=function(){var e=null;return{schedule:function(t){var n=requestAnimationFrame(function(){e=null,t()});e={frameId:n,fn:t}},flush:function(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}}}();var O={isActive:!1};function x(){return!O.isActive}function w(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function D(e){var t,n=e.event,r=null===(t=e.current[0])||void 0===t?void 0:t.dropEffect;null!=r&&n.dataTransfer&&(n.dataTransfer.dropEffect=r)}var S={canStart:x,start:function(e){var n=e.event,r=e.dragType,a=e.getDropTargetsOver,c=e.dispatchEvent;if(x()){var u=function(e){var t=e.event,n=e.dragType,r=e.getDropTargetsOver,i=y(t);if("external"===n.startedFrom)return{input:i,dropTargets:[]};var a=r({input:i,source:n.payload,target:t.target,current:[]});return{input:i,dropTargets:a}}({event:n,dragType:r,getDropTargetsOver:a});O.isActive=!0;var s={current:u};D({event:n,current:u.dropTargets});var f,d=function(e){var t=e.source,n=e.initial,r=e.dispatchEvent,i={dropTargets:[]};function a(e){r(e),i={dropTargets:e.payload.location.current.dropTargets}}return{start:function(e){var r=e.nativeSetDragImage,o={current:n,previous:i,initial:n};a({eventName:"onGenerateDragPreview",payload:{source:t,location:o,nativeSetDragImage:r}}),h.schedule(function(){a({eventName:"onDragStart",payload:{source:t,location:o}})})},dragUpdate:function(e){var r=e.current;h.flush(),b.cancel(),a({eventName:"onDropTargetChange",payload:{source:t,location:{initial:n,previous:i,current:r}}})},drag:function(e){var r=e.current;b(function(){h.flush(),a({eventName:"onDrag",payload:{source:t,location:{initial:n,previous:i,current:r}}})})},drop:function(e){var r=e.current,o=e.updatedSourcePayload;h.flush(),b.cancel(),a({eventName:"onDrop",payload:{source:null!=o?o:t,location:{current:r,previous:i,initial:n}}})}}}({source:r.payload,dispatchEvent:c,initial:u}),p=t.bindAll(window,[{type:"dragover",listener:function(e){g(e),d.drag({current:s.current})}},{type:"dragenter",listener:g},{type:"dragleave",listener:function(e){m({dragLeave:e})&&(v({input:s.current.input,dropTargets:[]}),"external"===r.startedFrom&&S())}},{type:"drop",listener:function(e){s.current={dropTargets:s.current.dropTargets,input:y(e)},s.current.dropTargets.length?(e.preventDefault(),D({event:e,current:s.current.dropTargets}),d.drop({current:s.current,updatedSourcePayload:"external"===r.type?r.getDropPayload(e):null}),j()):S()}},{type:"dragend",listener:function(e){s.current={dropTargets:s.current.dropTargets,input:y(e)},S()}}].concat(i((f={onDragEnd:S}.onDragEnd,[{type:"pointermove",listener:function(){var e=0;return function(){e<20?e++:f()}}()},{type:"pointerdown",listener:f}]))),{capture:!0});d.start({nativeSetDragImage:w(n)})}function v(e){var t=function(e){var t=e.current,n=e.next;if(t.length!==n.length)return!0;for(var r=0;r<t.length;r++)if(t[r].element!==n[r].element)return!0;return!1}({current:s.current.dropTargets,next:e.dropTargets});s.current=e,t&&d.dragUpdate({current:s.current})}function g(e){var t=y(e),n=o(e.target)?l({x:t.clientX,y:t.clientY}):e.target,i=a({target:n,input:t,source:r.payload,current:s.current.dropTargets});i.length&&(e.preventDefault(),D({event:e,current:i})),v({dropTargets:i,input:t})}function S(){s.current.dropTargets.length&&v({dropTargets:[],input:s.current.input}),d.drop({current:s.current,updatedSourcePayload:null}),j()}function j(){O.isActive=!1,p()}}},j=new Map;function A(e){var t=function(e){var t=e.typeKey,n=e.mount,r=j.get(t);if(r)return r.usageCount++,r;var i={typeKey:t,unmount:n(),usageCount:1};return j.set(t,i),i}(e);return function(){t.usageCount--,t.usageCount>0||(t.unmount(),j.delete(e.typeKey))}}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.forEach(function(e){return e()})}}function E(e,t){var n=t.attribute,r=t.value;return e.setAttribute(n,r),function(){return e.removeAttribute(n)}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function C(e){return e.slice(0).reverse()}function R(e){var t=e.typeKey,n=e.defaultDropEffect,r=new WeakMap,a="data-drop-target-for-".concat(t),o="[".concat(a,"]");function l(e){var t,a,c,u,s=e.source,f=e.target,d=e.input,p=e.result,v=void 0===p?[]:p;if(null==f)return v;if(!(f instanceof Element))return f instanceof Node?l({source:s,target:f.parentElement,input:d,result:v}):v;var g=f.closest(o);if(null==g)return v;var m=r.get(g);if(null==m)return v;var y={input:d,source:s,element:m.element};if(m.canDrop&&!m.canDrop(y))return l({source:s,target:m.element.parentElement,input:d,result:v});var b=null!==(t=null===(a=m.getData)||void 0===a?void 0:a.call(m,y))&&void 0!==t?t:{},h=null!==(c=null===(u=m.getDropEffect)||void 0===u?void 0:u.call(m,y))&&void 0!==c?c:n,O={data:b,element:m.element,dropEffect:h,isActiveDueToStickiness:!1};return l({source:s,target:m.element.parentElement,input:d,result:[].concat(i(v),[O])})}function c(e){var t,n=e.eventName,i=e.payload,a=L(i.location.current.dropTargets);try{for(a.s();!(t=a.n()).done;){var o,l=t.value,c=r.get(l.element),u=F(F({},i),{},{self:l});null==c||null===(o=c[n])||void 0===o||o.call(c,u)}}catch(s){a.e(s)}finally{a.f()}}var u={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:function(e){var t,n=e.payload,i=new Set(n.location.current.dropTargets.map(function(e){return e.element})),a=new Set,o=L(n.location.previous.dropTargets);try{for(o.s();!(t=o.n()).done;){var l,c=t.value;a.add(c.element);var u,s=r.get(c.element),f=i.has(c.element),d=F(F({},n),{},{self:c});if(null==s||null===(l=s.onDropTargetChange)||void 0===l||l.call(s,d),!f)null==s||null===(u=s.onDragLeave)||void 0===u||u.call(s,d)}}catch(O){o.e(O)}finally{o.f()}var p,v=L(n.location.current.dropTargets);try{for(v.s();!(p=v.n()).done;){var g,m,y=p.value;if(!a.has(y.element)){var b=F(F({},n),{},{self:y}),h=r.get(y.element);null==h||null===(g=h.onDropTargetChange)||void 0===g||g.call(h,b),null==h||null===(m=h.onDragEnter)||void 0===m||m.call(h,b)}}}catch(O){v.e(O)}finally{v.f()}}};return{dropTargetForConsumers:function(e){return d(P(E(e.element,{attribute:a,value:"true"}),function(e){return r.set(e.element,e),function(){return r.delete(e.element)}}(e)))},getIsOver:function(e){var t=e.source,n=e.target,i=e.input,a=e.current,o=l({source:t,target:n,input:i});if(o.length>=a.length)return o;for(var c=C(a),u=C(o),s=[],f=0;f<c.length;f++){var d,p=c[f],v=u[f];if(null==v){var g=s[f-1],m=c[f-1];if((null==g?void 0:g.element)!==(null==m?void 0:m.element))break;var y=r.get(p.element);if(!y)break;var b={input:i,source:t,element:y.element};if(y.canDrop&&!y.canDrop(b))break;if(null===(d=y.getIsSticky)||void 0===d||!d.call(y,b))break;s.push(F(F({},p),{},{isActiveDueToStickiness:!0}))}else s.push(v)}return C(s)},dispatchEvent:function(e){u[e.eventName](e)}}}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(){var e=new Set,t=null;function r(e){t&&(e.canMonitor&&!e.canMonitor(t.canMonitorArgs)||t.active.add(e))}return{dispatchEvent:function(n){var i=n.eventName,a=n.payload;if("onGenerateDragPreview"===i){t={canMonitorArgs:{initial:a.location.initial,source:a.source},active:new Set};var o,l=I(e);try{for(l.s();!(o=l.n()).done;){r(o.value)}}catch(d){l.e(d)}finally{l.f()}}if(t){for(var c=0,u=Array.from(t.active);c<u.length;c++){var s,f=u[c];if(t.active.has(f))null===(s=f[i])||void 0===s||s.call(f,a)}"onDrop"===i&&(t.active.clear(),t=null)}},monitorForConsumers:function(i){var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},i);return e.add(a),r(a),d(function(){e.delete(a),t&&t.active.delete(a)})}}}var H=d(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),K="text/plain",X=new WeakMap;var Y,N=(Y=null,{bindEvents:function(){return Y=null,t.bind(window,{type:"pointermove",listener:function(e){Y={x:e.clientX,y:e.clientY}},options:{capture:!0}})},getOnPostDispatch:function(){var e=null;return function(n){var r=n.eventName,i=n.payload;if("onDragStart"===r){var o=i.location.initial.input,l=null!=Y?Y:{x:o.clientX,y:o.clientY};e=function(e){var n=e.initial,r=document.createElement("div");r.setAttribute(a,"true");var i=s({client:n});Object.assign(r.style,u(u({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},f({clientRect:i})),{},{pointerEvents:"auto",zIndex:2147483647})),document.body.appendChild(r);var o=t.bind(window,{type:"pointermove",listener:function(e){var t={x:e.clientX,y:e.clientY};i=s({client:t}),Object.assign(r.style,f({clientRect:i}))},options:{capture:!0}});return function(e){var n=e.current;if(o(),function(e){var t=e.client,n=e.clientRect;return t.x>=n.x&&t.x<=n.x+n.width&&t.y>=n.y&&t.y<=n.y+n.height}({client:n,clientRect:i}))r.remove();else var a=t.bindAll(window,[{type:"pointerdown",listener:l},{type:"pointermove",listener:l},{type:"focusin",listener:l},{type:"focusout",listener:l},{type:"dragstart",listener:l},{type:"dragenter",listener:l},{type:"dragover",listener:l}],{capture:!0});function l(){a(),r.remove()}}}({initial:l})}if("onDrop"===r){var c,d=i.location.current.input;null===(c=e)||void 0===c||c({current:{x:d.clientX,y:d.clientY}}),e=null,Y=null}}}}),U=function(e){var t=e.typeKey,n=e.mount,r=e.dispatchEventToSource,i=e.onPostDispatch,a=e.defaultDropEffect,o=W(),l=R({typeKey:t,defaultDropEffect:a});function c(e){null==r||r(e),l.dispatchEvent(e),o.dispatchEvent(e),null==i||i(e)}function u(e){var t=e.event,n=e.dragType;S.start({event:t,dragType:n,getDropTargetsOver:l.getIsOver,dispatchEvent:c})}return{registerUsage:function(){return A({typeKey:t,mount:function(){var e={canStart:S.canStart,start:u};return n(e)}})},dropTarget:l.dropTargetForConsumers,monitor:o.monitorForConsumers}}({typeKey:"element",defaultDropEffect:"move",mount:function(n){return P(N.bindEvents(),t.bind(document,{type:"dragstart",listener:function(t){var r,i,a,o,c,u;if(n.canStart(t)&&!t.defaultPrevented&&t.dataTransfer){var s=t.target;if(s instanceof HTMLElement){var f=X.get(s);if(f){var d=y(t),p={element:f.element,dragHandle:null!==(r=f.dragHandle)&&void 0!==r?r:null,input:d};if(!f.canDrag||f.canDrag(p)){if(f.dragHandle){var v=l({x:d.clientX,y:d.clientY});if(!f.dragHandle.contains(v))return void t.preventDefault()}var g=null!==(i=null===(a=f.getInitialDataForExternal)||void 0===a?void 0:a.call(f,p))&&void 0!==i?i:null;if(g)for(var m=0,b=Object.entries(g);m<b.length;m++){var h=e(b[m],2),O=h[0],x=h[1];t.dataTransfer.setData(O,null!=x?x:"")}!H()||t.dataTransfer.types.includes(K)||t.dataTransfer.types.includes("text/uri-list")||t.dataTransfer.setData(K,"pdnd:android-fallback"),t.dataTransfer.setData("application/vnd.pdnd","");var w={type:"element",payload:{element:f.element,dragHandle:null!==(o=f.dragHandle)&&void 0!==o?o:null,data:null!==(c=null===(u=f.getInitialData)||void 0===u?void 0:u.call(f,p))&&void 0!==c?c:{}},startedFrom:"internal"};n.start({event:t,dragType:w})}else t.preventDefault()}}}}}))},dispatchEventToSource:function(e){var t,n,r=e.eventName,i=e.payload;null===(t=X.get(i.source.element))||void 0===t||null===(n=t[r])||void 0===n||n.call(t,i)},onPostDispatch:N.getOnPostDispatch()}),B=U.dropTarget,q=U.monitor;function G(e){return d(P(U.registerUsage(),function(e){return X.set(e.element,e),function(){X.delete(e.element)}}(e),E(e.element,{attribute:"draggable",value:"true"})))}var $=new Map,_=new Set;function J(e){!function(e){_.add(e)}(e);var t=$.get(e);if(t)return t;var n={timeOfEngagementStart:Date.now()};return $.set(e,n),n}var Q=new Map;function V(e){var t=Q.get(e);if(t)return t;var n=function(e){var t={type:"idle"},n=[];function r(e){if("running"===t.type){var i,a=e-t.timeLastFrameFinished,o=t.latestArgs,c=l({x:o.location.current.input.clientX,y:o.location.current.input.clientY});i=function(){n.forEach(function(e){return e({underUsersPointer:c,latestArgs:o,timeSinceLastFrame:a})})},_.clear(),i(),$.forEach(function(e,t){_.has(t)||$.delete(t)}),_.clear(),t.timeLastFrameFinished=e,t.frameId=requestAnimationFrame(r)}}function i(){"idle"!==t.type&&(cancelAnimationFrame(t.frameId),$.clear(),t={type:"idle"})}function a(e){"idle"===t.type&&(t={type:"initializing",latestArgs:e,frameId:requestAnimationFrame(function(e){"initializing"===t.type&&(t={type:"running",timeLastFrameFinished:e,latestArgs:t.latestArgs,frameId:requestAnimationFrame(r)})})})}function o(e){"idle"!==t.type?t.latestArgs=e:a(e)}return e({onDragStart:a,onDropTargetChange:o,onDrag:o,onDrop:i}),{onFrame:function(e){n.push(e)}}}(e);return Q.set(e,n),n}var Z="data-auto-scrollable",ee="[".concat(Z,'="true"]');function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var re={startHitboxAtPercentageRemainingOfElement:{top:.25,right:.25,bottom:.25,left:.25},maxScrollAtPercentageRemainingOfHitbox:{top:.5,right:.5,bottom:.5,left:.5},timeDampeningDurationMs:400,maxMainAxisHitboxSize:180},ie={standard:900,fast:1500};function ae(e){var t;return ne(ne({},re),{},{maxPixelScrollPerSecond:ie[null!==(t=null==e?void 0:e.maxScrollSpeed)&&void 0!==t?t:"standard"]})}var oe={top:function(e){return e.scrollTop>0},right:function(e){return Math.ceil(e.scrollLeft)+e.clientWidth<e.scrollWidth},bottom:function(e){return Math.ceil(e.scrollTop)+e.clientHeight<e.scrollHeight},left:function(e){return e.scrollLeft>0}},le=["top","right","bottom","left"],ce={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"},ue={start:"top",end:"bottom",point:"y",size:"height"},se={start:"left",end:"right",point:"x",size:"width"},fe={vertical:{mainAxis:ue,crossAxis:se},horizontal:{mainAxis:se,crossAxis:ue}},de={top:"start",right:"end",bottom:"end",left:"start"};function pe(e){var t=e.edge,r=e.axis;return function(e){var i=e.clientRect,a=e.config,o=fe[r],l=o.mainAxis,c=o.crossAxis,u=de[t],s=Math.min(a.startHitboxAtPercentageRemainingOfElement[t]*i[l.size],a.maxMainAxisHitboxSize);return DOMRect.fromRect(n(n(n(n({},l.point,"start"===u?i[l.point]:i[l.point]+i[l.size]-s),c.point,i[c.point]),l.size,s),c.size,i[c.size]))}}var ve={top:pe({axis:"vertical",edge:"top"}),right:pe({axis:"horizontal",edge:"right"}),bottom:pe({axis:"vertical",edge:"bottom"}),left:pe({axis:"horizontal",edge:"left"})};function ge(e){var t=e.startOfRange,n=e.endOfRange,r=e.value;return t<n?r<t?0:r>n?1:(r-t)/(n-t):0}function me(e){var t=e.client,n=e.timeSinceLastFrame,r=e.engagement,i=e.axis,a=e.hitbox,o=e.edge,l=e.isDistanceDampeningEnabled,c=e.config,u=function(e){var t=e.timeSinceLastFrame,n=e.config,r=n.maxPixelScrollPerSecond/1e3,i=Math.ceil(r*t),a=n.maxPixelScrollPerSecond/60;return Math.min(i,a)}({timeSinceLastFrame:n,config:c}),s=l?function(e){var t=e.client,n=e.axis,r=e.edge,i=e.hitbox,a=e.config,o=fe[n].mainAxis,l=de[r],c=i[o.size]*a.maxScrollAtPercentageRemainingOfHitbox[r];return"end"===l?ge({startOfRange:i[o.start],endOfRange:i[o.end]-c,value:t[o.point]}):1-ge({startOfRange:i[o.start]+c,endOfRange:i[o.end],value:t[o.point]})}({client:t,edge:o,hitbox:a,axis:i,config:c}):1,f=s*ge({startOfRange:r.timeOfEngagementStart,endOfRange:r.timeOfEngagementStart+c.timeDampeningDurationMs,value:Date.now()}),d=Math.max(u*f,1);return"end"===de[o]?d:-1*d}function ye(e){return e.getBoundingClientRect()}function be(e){var t=e.element,n=e.input,r=e.timeSinceLastFrame,i=e.engagement,a=e.config,o=e.allowedAxis,l=e.getRect,c=void 0===l?ye:l,u={x:n.clientX,y:n.clientY},s=c(t),f=le.reduce(function(e,n){var r=ve[n]({clientRect:s,config:a});return function(e,t){return"all"===t||e===t}(ce[n],o)&&function(e){var t=e.client,n=e.clientRect;return t.x>=n.x&&t.x<=n.x+n.width&&t.y>=n.y&&t.y<=n.y+n.height}({client:u,clientRect:r})&&oe[n](t)?(e.set(n,{edge:n,hitbox:r}),e):e},new Map);return{left:function(){var e="horizontal",t=f.get("left");if(t)return me({client:u,edge:t.edge,hitbox:t.hitbox,axis:e,timeSinceLastFrame:r,engagement:i,isDistanceDampeningEnabled:!0,config:a});var n=f.get("right");return n?me({client:u,edge:n.edge,hitbox:n.hitbox,axis:e,timeSinceLastFrame:r,engagement:i,isDistanceDampeningEnabled:!0,config:a}):0}(),top:function(){var e="vertical",t=f.get("bottom");if(t)return me({client:u,edge:t.edge,hitbox:t.hitbox,axis:e,timeSinceLastFrame:r,engagement:i,isDistanceDampeningEnabled:!0,config:a});var n=f.get("top");return n?me({client:u,edge:n.edge,hitbox:n.hitbox,axis:e,timeSinceLastFrame:r,engagement:i,isDistanceDampeningEnabled:!0,config:a}):0}()}}function he(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){return Boolean(e.top||e.left)}function we(e){var t,n,r,i=e.target,a=e.input,o=e.source,l=e.findEntry,c=e.timeSinceLastFrame,u=e.available,s=void 0===u?{top:!0,left:!0}:u;if(!xe(s))return s;if(!i)return s;var f=i.closest(ee);if(!f)return s;var d=l(f);if(!d)return s;function p(){var e;return we({target:null!==(e=null==f?void 0:f.parentElement)&&void 0!==e?e:null,findEntry:l,source:o,timeSinceLastFrame:c,input:a,available:s})}var v={input:a,source:o,element:f};if(d.canScroll&&!d.canScroll(v))return p();var g=J(f),m=ae(null===(t=d.getConfiguration)||void 0===t?void 0:t.call(d,v)),y=null!==(n=null===(r=d.getAllowedAxis)||void 0===r?void 0:r.call(d,v))&&void 0!==n?n:"all",b=be({element:f,engagement:g,input:a,timeSinceLastFrame:c,allowedAxis:y,config:m}),h={top:0,left:0};return s.top&&0!==b.top&&(h.top=b.top,s.top=!1),s.left&&0!==b.left&&(h.left=b.left,s.left=!1),0===h.top&&0===h.left||f.scrollBy(h),p()}function De(e){var t=e.input,n=e.findEntry,r=e.timeSinceLastFrame,i=e.source,a=e.getWindowScrollEntries,o=we({target:e.underUsersPointer,timeSinceLastFrame:r,input:t,source:i,findEntry:n});xe(o)&&function(e){var t,n=e.input,r=e.timeSinceLastFrame,i=e.available,a=e.source,o=e.entries,l=document.documentElement,c={input:n,source:a,element:l},u=he(o);try{for(u.s();!(t=u.n()).done;){var s,f,d,p=t.value;if(!p.canScroll||p.canScroll(c)){var v=be({element:l,engagement:J(l),input:n,config:ae(null===(s=p.getConfiguration)||void 0===s?void 0:s.call(p,c)),allowedAxis:null!==(f=null===(d=p.getAllowedAxis)||void 0===d?void 0:d.call(p,c))&&void 0!==f?f:"all",getRect:function(e){return DOMRect.fromRect({y:0,x:0,width:e.clientWidth,height:e.clientHeight})},timeSinceLastFrame:r}),g={top:i.top?v.top:0,left:i.left?v.left:0};0===g.top&&0===g.left||l.scrollBy(g);break}}}catch(m){u.e(m)}finally{u.f()}}({input:t,source:i,entries:a(),timeSinceLastFrame:r,available:o})}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var je=function(e){var t=e.monitor,r=new Map,i=new Set;function a(e){var t;return null!==(t=r.get(e))&&void 0!==t?t:null}function o(){return Array.from(i)}return V(t).onFrame(function(e){var t=e.latestArgs,n=e.underUsersPointer,r=e.timeSinceLastFrame;De({input:t.location.current.input,source:t.source,findEntry:a,underUsersPointer:n,timeSinceLastFrame:r,getWindowScrollEntries:o})}),{autoScroll:function(e){var t;return r.set(e.element,e),d(P(((t=e.element).setAttribute(Z,"true"),function(){return t.removeAttribute(Z)}),function(){return r.delete(e.element)}))},autoScrollWindow:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return i.add(e),d(function(){i.delete(e)})}}}({monitor:q}).autoScroll;function Ae(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return Object.is(e[n],t[n])})}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Te=Symbol("list-item-instruction"),Fe={vertical:{start:"top",end:"bottom",size:"height",point:"y"},horizontal:{start:"left",end:"right",size:"width",point:"x"}};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=null;return function(n){return t&&e(t.value,n)?t.value:(t={value:n}).value}}();function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return"available"===e||"blocked"===e})}function Ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return"not-available"===e})}function Re(e,t){var r,i,a,o=t.operations,l=t.element,c=t.input,u=t.axis,s=void 0===u?"vertical":u,f={x:c.clientX,y:c.clientY},d=l.getBoundingClientRect(),p=Fe[s],v=null!==(r=o.combine)&&void 0!==r?r:"not-available",g=null!==(i=o["reorder-before"])&&void 0!==i?i:"not-available",m=null!==(a=o["reorder-after"])&&void 0!==a?a:"not-available",y=function(){if(!Me(v))return Me(g,m)?function(e){var t=e.client,n=e.borderBox,r=e.axis,i=n[r.size]/2;return t[r.point]<n[r.start]+i?"reorder-before":"reorder-after"}({client:f,borderBox:d,axis:p}):Me(g)?"reorder-before":Me(m)?"reorder-after":null;var e=function(e){var t=e.client,n=e.borderBox,r=e.axis,i=n[r.size]/4;return t[r.point]<=n[r.start]+i?"reorder-before":t[r.point]>=n[r.end]-i?"reorder-after":"combine"}({client:f,borderBox:d,axis:p});return"reorder-after"===e?Ce(m)?"combine":e:"reorder-before"===e&&Ce(g)?"combine":e}();if(!y)return e;var b={operation:y,blocked:"blocked"===o[y],axis:s},h=Le(b);return Ee(Ee({},e),{},n({},Te,h))}function Ie(e){var t;return null!==(t=e[Te])&&void 0!==t?t:null}export{B as a,Re as b,je as c,G as d,Ie as e,q as m};